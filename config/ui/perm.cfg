
///////////////////////////////////////////////////////////////////////////////
//  PERMANENT UI -- DO *NOT* MAKE CHANGES HERE                               //
///////////////////////////////////////////////////////////////////////////////

newui "perm" [
	uieschide 0
	uiclamp.e

	// Disables active input field if clicking Out-Of-Bounds
	if (getalias .UI_KBisoob) [
		uiallowinput 1
		uipress    [ .UI_KBclean ]
		uiescpress [ .UI_KBclean ]
		uitarget
		uiclamp-e
	] [ uiallowinput 0 ]

	// test OOB condition
	// uicolor (? (getalias .UI_KBisoob) 0x20FF0000 0x2000FF00)
	// uiclamp-e

	//.mousex = (*f $uimousetrackx $uiaspect)
	//.mousey =     $uimousetracky     
	//uivlist 0 [
	//	uiFancyText "mono" (concat mouse X: (precf $.mousex 4)) 0.7
	//	uiFancyText "mono" (concat mouse Y: (precf $.mousey 4)) 0.7
	//	uialign* -1
	//] ; uialign- -1 1

	if (isdead $getclientnum) [
		uiFastImgTiled "ui/" "ui_bg2"
		uiFastImg "" "hud/" "damage"
		uiFastImg "" "shadow"
		uiclamp*e
	] [
		// Vignette/Pattern effect when blurring
		if (&& [! $mainmenu] $uiBlurBg $uiBlurring) [
			uiFastImgTiled "ui/" "ui_bg2"
			uiFastImg "" "shadow"
			uiclamp*e
		]
	]

	if $mainmenu [
		uiallowinput (uivisible "main")
		uitarget 0 0 [
			uipress [ changeui "credits" "main" ]
			uispace $uiPad:4XL $uiPad:4XL [
				uivlist $uiPad:3XL- [
					uiFastImg "" "badge_tesseract" "" "" $uiPad:D2XL
					uivlist $uiPad:M- [
						uifontcolortext "wide.ol" "TESSERACT" $c_cyan_t 0.6
						uifontcolortext "wide.ol" "ENGINE" $c_cyan_t 0.7
					]
				]
			]
		] ; uialign- 1 1
	]
] 
