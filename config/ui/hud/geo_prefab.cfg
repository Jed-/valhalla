
UIquickdialog "geo_prefab" [
	uialign 1
] [
	UIhudcell 0 0 [
		uihlist $uiPad:L [
			uiscroll $.x $.y [
				uifill $.x $.y
				uihover [] [ .UI_obrsel = -1 ]
				uigrid 2 0 0 [
					uialign -1 -1
					local i ; i = 0
					loopfiles f "data/prefab" obr [
						UIbuttonarea "none" $uiPad:D4XL $uiPad:D4XL [
							uispace 0.0006 0.0006 [
								if (!= $i $.UI_obrsel) [
									uimodcolor $c_boxmod
									uioutline $c_line1
								] [
									uimodcolor $c_grdmod
									uioutline (UIcoswave:INT $c_green $c_line1 (uihold? 250 500))
								]
								uiclamp*e
							]
							uiprefabpreview $f $c_gray_l
							uiclamp*e
							uispace $uiPad:S $uiPad:O3 [
								uialign -1 -1
								uifontcolortext "def.ol" $i (|A! 0x98) 0.55
							]
							uihover [
								if (!= $i $.UI_obrsel) [
									.UI_obrsel = $i
									UIsetmillis
								]
							]
							uipress [ UIsetmillis ]
							uirelease [ pasteprefab $f ]
						]
						i = (+ $i 1)
					]
				]
			]
			UIvscrollbar 0 $.y 6.4
		]
	]
] [
	.UI_obrsel = -1
	.x = (*f $uiPad:D4XL 2)
	.y = (-f 1 (*f $uiPad:L 4))
	hideui "texture_browser"
	hideui "mapmodel_browser"
	hideui "map_browser"
	hideui "editvars" 
] [ showui "editvars" ]
