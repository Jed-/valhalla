
///////////////////////////////////////////////////////////////////////////////
//  Map List Generators -- NEEDED FOR SERVERS, DO *NOT* MAKE CHANGES HERE    //
///////////////////////////////////////////////////////////////////////////////

defmaptable = [
	alphacorp    0x7F
	arch         0x33
	azag         0x7B
	azag2        0x7B
	complex      0x33
	desertwind   0x7F
	flux3        0x33
	lightspeed   0x7B
	idyll2       0x33
	nebula       0x33
	ot2          0x33
	pinelake     0x7B
	pride        0x33
	reflection   0x7F
	risk         0x7F
	sera         0x33
	steam        0x33
	steelribs    0x7F
	turbine_a2   0x33
	waterworks   0x7F
	wintergreen  0x33
]

// genmaplist VARNAME MODE_BITMASK MAPLIST
genmaplist = [
	if $arg3 [] [ arg3 = $defmaptable ]
	$arg1 = (loopconcat* m 2 (/ (listlen $arg3) 2) [
		if (|| [= $arg2 0] [& $arg2 (at $arg3 (+ $m 1))]) [ at $arg3 $m ]
	])
]

genmaplist allmaps    0x0  // NO MASK
genmaplist dmmaps     0x1  // Deathmatch
genmaplist tdmmaps    0x2  // Team Deathmatch
genmaplist ctfmaps    0x4  // Capture The Flag
genmaplist elimmaps   0x8  // Elimination
genmaplist lmsmaps    0x10 // Last Man Standing
genmaplist juggmaps   0x20 // Juggernaut
genmaplist infectmaps 0x40 // Infection

genusermaps = [
	usermaps = [] // where custom maps by the user will be stored
	loopfiles m "data/map" "ogz" [
		if (< (indexof $allmaps $m) 0) [
			append usermaps $m
		]
	]
]

genusermaps
